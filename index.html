<!DOCTYPE HTML>
<html lang="en">

<head>
        <meta charset="UTF-8">
        <title>Main Page</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
        <link rel="stylesheet" href="./style.css">
        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Comfortaa:wght@300;400;500;600;700&display=swap" rel="stylesheet">

</head>

<body>
        <div id="bc_container" class="?">
                <div id="breadCrumb" class="text-msm rotate">
                        <div class="breadCrumb_child margin_r_sm" id="b1">Data Preparation</div>
                        <div class="breadCrumb_child margin_r_sm" id="b2">Classifiers Selection</div>
                        <div class="breadCrumb_child margin_r_sm" id="b3">Model Comparison</div>
                        <div class="breadCrumb_child margin_r_sm" id="b4">K-folds Validation</div>
                        <div class="breadCrumb_child margin_r_sm" id="b5">Model Selection</div>
                        <div class="breadCrumb_child" id="b6">Feature Selection</div>
                </div>
        </div>
        <div id="main">
                <!-- Add a section block for every visualization we want -->
                <div id="_1_intro">
                        <div class="viz visView" id="sec1">
                        </div>
                </div>
                <div id="_2_dataprep">
                        <div class="viz visView" id="sec2_1">
                                <div class="button-container-div"></div>
                        </div>
                        <div class="viz visView" id="sec2_1_1">
                                <div class="button-container-div"></div>
                        </div>
                        <div class="viz visView" id="sec2_2">
                                <div class="button-container-div" id="toolbar">
                                        <button id="all" class="button active">All</button>
                                        <button id="year" class="button">By Species</button>
                                        <button id="train" class="button">Data Split</button>
                                </div>
                        </div>
                </div>
             <div id="_3_classifier">
                        <div class="viz visView" id="sec3"></div>
                </div>
                <div id="_4_comparison">
                        <div class="viz visView" id="sec4_1">
                                <div class="button-container-div"></div>
                        </div>
                        <div class="viz visView" id="sec4_2">
                                <div class="button-container-div"></div>
                        </div>
                        <div class="viz visView" id="sec4_3">
                                <div class="button-container-div" id="toolbar-knn">
                                        <button id="knn3" class="button-knn knn-active">KNN-3</button>
                                        <button id="knn5" class="button-knn">KNN-5</button>
                                        <button id="knn10" class="button-knn">KNN-10</button>
                                        <button id="knn20" class="button-knn">KNN-20</button>
                                </div>
                        </div>
                        <div class="viz visView" id="sec4_6">
                                <div class="button-container-div">
                                </div>
                                <div class="controler" id ="modelselect_UI">
                                        <div class="m_dropdown">
                                                <div class="btn_lable text-sm">Select a model</div>
                                                <select id="m_dropdown" class="margin_ssm">
                                                        <option value="1">Logistic Regression</option>
                                                        <option value="1">K=10</option>
                                                        <option value="2">K=20</option>
                                                </select>
                                        </div>
                                        <div class="apply">
                                                <button id="m_apply" class="margin_md button1">Apply</button>
                                        </div>
                                </div>
                        </div>
                </div>
                <div id="_5_kfold">
                        <div class="viz visView" id="sec5_1"></div>
                </div>
                <div id="_6_parameter">
                        <div class="viz visView" id="sec6_1">
                                <div class="controler" id ="fold_UI">
                                        <div class="dropdown">
                                                <div class="btn_lable text-sm">Select fold counts</div>
                                                <select id="fold_dropdown" class="margin_ssm">
                                                        <option value="1">1</option>
                                                        <option value="2">2</option>
                                                        <option value="3">3</option>
                                                        <option value="4">4</option>
                                                        <option value="5">5</option>
                                                </select>
                                        </div>
                                        <div class="apply">
                                                <button id="fold_apply" class="margin_md button1">Apply</button>
                                        </div>
                                </div>
                        </div>
                </div>
                <div id="_7_modelselect">
                        <div class="viz visView" id="sec7_1">
                                <div class="controler" id ="k_UI">
                                        <div class="dropdown">
                                                <div class="btn_lable text-sm">Select K counts</div>
                                                <select id="k_dropdown" class="margin_ssm">
                                                        <option value="1">K=1</option>
                                                        <option value="2">K=5</option>
                                                </select>
                                        </div>
                                        <div class="apply">
                                                <button id="k_apply" class="margin_md button1">Apply</button>
                                        </div>
                                </div>
                        </div>
                </div>
                <div id="_8_featureselect">
                        <div class="viz visView" id="sec8_1">
                                <div class="controler_checkbox text-sm" id ="feature_UI">
                                        <input type="checkbox" class="age_box margin_xlg" value="1" checked> Feature Set 1
                                        
                                        <input type="checkbox" class="age_box margin_xlg" value="2" checked> Feature Set 2
                                        
                                        <input type="checkbox" class="age_box margin_xlg" value="3" checked> Feature Set 3
                                        
                                        <input type="checkbox" class="age_box margin_xlg" value="4" checked> Feature Set 4
                                        
                                        <div class="apply">
                                                <button id="feature_apply" class="margin_md button1">Apply</button>
                                        </div>
                                </div>
                               
                        </div>
                </div>

                <!-- Add a section block for every text we want -->
                <div id="sections" , class="text-posi">
                        <div class="section-text" id="sec1_text">
                                Welcome!
                                <div class = "margin_md">
                                We will be exploring machine learning models and how to compare them by
                                utilizing the Iris dataset originally created by R.A. Fisher and provided by
                                UCI's Machine Learning Repository.
                                </div>

                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec2_1_1_text">
                                <div class="section-title">Data Preparation</div>
                                But what is machine learning?

                                Machine learning systems work by using  data to generate a model from
                                the features composing each observation. After a model is  generated learning from the
                                data we have, the model can make predictions on new observations. This is our main task,
                                so we'd like our model to predict with the highest accuracy possible.

                                So what are these attributes that our model will learn from? The Iris
                                dataset is a collection of Iris plants. Each observation in our dataset comes complete
                                with measurements of the lengths and widths of the <b>petal</b> and <b>sepal</b>
                                recorded in centimeters.
                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec2_1_2_text">
                                <div class="section-title"></div>
                                And what exactly will our model be predicting? Each observation will have attributes
                                associated with each observation. The Iris dataset contains 3 different species in total:
                                
                                <ul>
                                        <li><b>Virginica</b></li>
                                        <li><b>Vericolor</b></li>
                                        <li><b>Setosa</b></li>
                                </ul>
                                Each species tends to have similar
                                features, so if our model and learn the relationship, the model should be able to
                                perform well. Our goal then for our model is to learn how the lengths and widths of the
                                petals and sepals indicate which species the particular observation so that it can make
                                accurate predictions based on these attributes.

                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec2_1_1_1_text">
                                <div class="section-title"></div>
                                Let's first take a look at our entire dataset.

                                Each bubble here represents a single observation. Our total dataset has
                                150 recorded observations, so there are 150 bubbles. Smaller bubbles indicate smaller
                                lengths and widths, while larger bubbles represent larger lengths and width. We can
                                hover over each observation to see the measurements for each.

                                By clicking the <b>By Species</b> button we can see the dataset
                                separated by species. We can see things a bit more clearly here. The Setosa species tends
                                to be a bit smaller in size, while Virginica tends to be larger, with versicolor tends
                                to be somewhere in the middle. This could be a useful pattern for our model!

                                By clicking the <b>Data Split</b> button, we can how we will break our
                                dataset into different groupings:
                                
                                <ul>
                                        <li><b>The Train Set</b></li> This set will be used to train our model. These observations will
                                        be used to learn the relationships between attributes and the species to make accurate predictions.
                                        <li><b>The Validation Set</b></li> This set will be used while the model is trained. It
                                        is to ensure that training is moving in the right direction, ideally more
                                        accurate as more data is used!
                                        <li><b>The Test Set</b></li> This set is what we'll test our trained model on. We'll need
                                        to test to see how accurate our model can perform on data our model hasn't seen
                                        before. The model will not know the true species of the observations during
                                        testing.
                                </ul>
                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec2_2_1_text">
                                <div class="section-title">Classifier Selection</div>
                                The term model has been a bit vague so far. What do we mean by this?

                                The best model to be used for machine learning tasks depends on the type
                                of data our dataset comprises. Depending on this, certain models are more
                                suitable than others.

                                Let's review a few.
                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec3_text">
                                <div class="section-title"></div>
                                If the dataset is only comprised of <i>binary</i> datatypes such as -5, 10, 0.001,
                                10,000 and the like, two of the best models to use are:

                                
                                <ul>
                                        <li><b>Logistic Regression</b></li> This is used when the task is to provide
                                        <i>continuous</i> out. Consider trying to predict the price of a house. Perhaps
                                        it could range from $10,000 to $10,000,000, or anywhere inbetween.
                                        it can be <i>many</i> values.
                                        <li><b>Linear Regression</b></li> This is used when the task is to provide discrete
                                        output. Consider trying to predict if an imagine is a cat, dog, or cow. There
                                        are only <i>a few </i> values that can be output by the model.

                                </ul>
                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec3_1_text">
                                <div class="section-title"></div>
                                If the dataset is comprised of <i>multi-class</i> datatypes, these can come in
                                the form of cats, dogs, and cows, and all have the same attributes such as weight,
                                hair type, or claw type. In this, the usual two models to use are:

                                
                                <ul>
                                        <li><b>Logistic Regression</b></li> As explained before, best for
                                        <i>continuous</i> output.
                                        <li><b>KNN</b></li> K Nearest Neighbors is used when you need to group
                                        observations, and output only a few values. K is an integer that decides how
                                        many neighbors should be included when deciding if an observation belongs to
                                        a certain type of observation. We've chosen this model, as it is a powerful
                                        model that is suitable for our task

                                </ul>
                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec3_2_text">
                                <div class="section-title"></div>
                                If the dataset is only comprised of <i>text</i> datatypes, these can come in
                                in a wide variety of forms. Typically, the task is to define the part of speech from
                                the grouping of letters then score them, to understand their meaning:

                                
                                <ul>
                                        <li><b>Linear Regression</b></li> This model is often be an effective way to
                                        accomplish the task by collapsing the probabilities of many options to a single
                                        choice.

                                </ul>
                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec3_3_text">
                                <div class="section-title">Model Comparison</div>
                                Let's take another view of the dataset's petal lengths to see what insights we can gain:

                                By looking at only the petal lengths we can make an interesting observation!
                                Look closely at the Setosa species. The petal length could be a strong indicator
                                for what species the observation belongs to. We can see that <i>no other species</i> have
                                as small of petal lengths.

                                Viriginica and Vericolor are a bit more tricky. There
                                are portions that overlap, which make using this feature alone inconclusive in
                                determining the species.

                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec4_1_1_text">
                                <div class="section-title"></div>
                                Let's take one more view to see if we can identify any more patterns:

                                From this view we can confirm that Setosa is uniquely grouped and
                                because of this, it should be easier to identify. We will hope that our model can identify
                                this pattern to easily identify the species.

                                We can see that on average, Virginica tends to be a bit larger in both
                                sepal length and sepal length, while Vericolor tends to be a bit smaller. Perhaps our
                                model can use this pattern to correctly identify between these two.
                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec4_2_1_text">
                                <div class="section-title"></div>
                                As we've discussed, KNN or K Nearest Neighbors will be our model. Let's discuss how
                                this will work.

                                KNN will use 'K' nearest neighbors to help identify which species the
                                observation should belong to by comparing it to it's K nearest neighbors.

                                KNN is a powerful model due to how the 'clustering' mechanism works.
                                For each new observation the model will look at the 'K' nearest neighbors species
                                and attributes to decide what is the most likely species of the observation. The model
                                will then move to the next unknown observation, sequentially going through all until
                                it has made a prediction on all unknown observations.

                                Here, each dot represents an observation while the color of the
                                background represents what species the model will predict the observation belongs to.
                                Ideally we'd like every dot color, and it's background to match, indicating a 100%
                                accuracy.

                                The model has been run initially with a K value of 3. It looks like our
                                model has predict many observations correctly! Unfortunately it
                                doesn't seem to have gotten everything correct. You may spot some observations where
                                there is a mismatch. Thankfully KNN with a k value of 3 isn't the only option! We can
                                select other values, as perhaps there are other values of K that will lead to more accurate
                                predictions than others.

                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec4_3_1_text">
                                <div class="section-title"></div>
                                We can now examine how we will assess how the model will ultimately perform.

                                As we've discussed, our KNN model will use 60% of our dataset totalling
                                90 observations to begin learning the associations needed to make accurate predictions,
                                20% or 30 observations will be used to help validate the training, and the last 20% or 30
                                observations will be used as a testing set.

                                As the model completes it's training, the model progress bar will
                                fill. Once it is at 100% percent, the training is completed.

                                The accuracy will be displayed via the accuracy bar. What we hope
                                to see is very high accuracy once we get to testing our model against the testing set.

                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec6_text">
                                <div class="section-title">K-fold Validation</div>
                                We're just about ready to start testing, but an important step to discuss first is
                                tuning some parameters.

                                One such parameter is the number of folds to use during validation step.
                                This step is used to help make the best use of all of our data and to limit bias. If we
                                select 5 for this value, we'll split our entire dataset
                                into 5 equal buckets. In our case given the size of our dataset, each bucket will have 30 observations in each.

                                Once the buckets are created, 1 bucket is selected as the 'test' set,
                                while the others are used to train the model. Once training is completed, a test is done
                                against the test set to see how accurate the model is. The accuracy is then recorded.

                                From here the next bucket is selected as the 'test' set, and again all
                                the other buckets will be used to train the model, with the accuracy recorded after
                                testing. This process will continue until every bucket has had the opportunity to be
                                selected as the 'test' set. This means we'll have run our model 5 times!

                                 Finally, once all runs are completed, we simply average the accuracies.
                                The model can be ran with several options for how many folds to use. Can you find the optimum fold value?

                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec7_text">
                                <div class="section-title">Model Selection</div>
                                If you've tried them all, then you'll have seen:

                                Setting a fold value of 3 was the best! Let's use that, but we have
                                one more parameter to tune before we can conclude tuning our model. K for KNN!

                                This is a familiar concept but just to review, this value will determine
                                how many nearest observations or neighbors our model will use to help determine the species
                                from an observation. We can select a coule values.

                                Try it out to determine which value gives us the best performance!

                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec8_text">
                                <div class="section-title">Feature Selection</div>
                                Lastly is feature selection. While all of the features may seem important, it's possible
                                that some features are only making the identification task harder. We may actually perform better
                                by removing some confusion features. Let's review what features
                                we have.

                                <ul>
                                        <li>1.) Petal Length</li>
                                        <li>2.) Petal Width</li>
                                        <li>3.) Sepal Length</li>
                                        <li>4.) Sepal Width</li>
                                </ul>

                                We've seen how our model performs when we include all features, but let's compare when
                                we remove just 1 feature and test again. Feature set 1 excludes 1.) or Petal Length. Feature
                                set 2 excludes 2.) or petal width and so on. Try out different sets or combinations
                                to see they can impact accuracy!
                                <p class="block"></p>
                        </div>
                        <div class="section-text" id="sec9_text">
                                <div class="section-title">Thank you!</div>
                                Well done! Thank you for exploring our narrative story. Hopefully you have a good understanding now of how we can use machine
                                learning algorithms, utilize powerful models such as K Nearest Neighbors, and run and
                                compare them to get the highest accuracy possible.
                                <p class="block"></p>
                        </div>
                </div>
        </div>
</body>

<script src="https://d3js.org/d3.v5.min.js"></script>

<head>
        <!-- Include Plotly.js -->
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<script>
        // constants
        var w_width = window.innerWidth/1.37;
        var w_height = window.innerHeight;
        var width = 680
        var height = 640
        var widthMargin = 20
        var heightMargin = 60

        //Comment out the color to test

         // darkblue red yellow blue

        /*
        var mainColor = {"darkgreen": '#379237', 'lightgreen':"#00FFE0", 'darkblue':"#1C1259", 
        'red':'#EE4266', 'darkred':'#900C3F', 'lightred':"#FF5733", 'yellow':"#FCD307", 'violet':"#66308f",
        'blue':'#66308f'}
        */
        
        var mainColor = {"darkgreen": '#379237', 'lightgreen':"#00FFE0", 'darkblue':"#323D52", 
        'red':'#FF2442', 'darkred':'#900C3F', 'lightred':"#FF5733", 'yellow':"#FFB830", 'violet':"#66308f",
        'blue':'#3DB2FF'}
        
        
        /*
        var mainColor = {"darkgreen": '#379237', 'lightgreen':"#00FFE0", 'darkblue':"#11144C", 
        'red':'#E16262', 'darkred':'#900C3F', 'lightred':"#FF5733", 'yellow':"#FABC60", 'violet':"#66308f",
        'blue':'#3A9679'}
        */
  
        
        // var mainColor = {"darkgreen": '#379237', 'lightgreen':"#00FFE0", 'darkblue':"#11144C", 
        // 'red':'#EE5007', 'darkred':'#900C3F', 'lightred':"#FF5733", 'yellow':"#FFB830", 'violet':"#66308f",
        // 'blue':'#5BB318'}
        
       
        //time
        var duration_2500 = 2500    
        var duration_2000 = 2000
        var duration_1500 = 1500
        var duration_1000 = 1000
        var duration_800 = 800
        var duration_500 = 500
        var duration_250 = 250
        
        // transition
        const transition_2500 = d3.transition().ease(d3.easeSin).duration(duration_2500);
        const transition_2000 = d3.transition().ease(d3.easeSin).duration(duration_2000);
        const transition_1000 = d3.transition().ease(d3.easeSin).duration(duration_1000);
        const transition_1500 = d3.transition().ease(d3.easeSin).duration(duration_1500);
        const transition_800 = d3.transition().ease(d3.easeSin).duration(duration_800);
        const transition_500 = d3.transition().ease(d3.easeSin).duration(duration_500);
        const transition_250 = d3.transition().ease(d3.easeSin).duration(duration_250);

        //vis container
        var visContainer;
        var visContainer1;
        const transitionPath = d3.transition().ease(d3.easeSin).duration(1000);
</script>
<!--<script src="iris.csv"></script>-->
<script src="rmse.js"></script>
<script src="https://d3js.org/d3-hexbin.v0.2.min.js"></script>
<script src="graph-scroll.js"></script>
<script src="tooltip.js"></script>
<script src="sec1_1.js"></script>

<script src="sec2_1_1.js"></script>
<script src="sec2_1_1_1.js"></script>
<script src="sec2_2_1.js"></script>

<script src="sec3_1_1.js"></script>

<script src="sec4_1_1.js"></script>
<script src="sec4_2_1.js"></script>
<script src="sec4_3_1.js"></script>
<script src="sec4_6_1.js"></script>

<!-- <script src="sec5_1_1.js"></script> -->

<script src="sec6_1_1.js"></script>
<script src="sec7_1_1.js"></script>
<script src="sec8_1_1.js"></script>
<script src="sec1_1.js"></script>

<script src="main.js"></script>

</html>